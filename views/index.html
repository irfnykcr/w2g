<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>TURKUAZZ W2G</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link rel="stylesheet" href="../assets/css/style.css">
</head>
<body class="bg-dark-bg text-white h-screen flex flex-col overflow-hidden">
	<!-- dynamic header -->
	<header class="bg-dark-bg border-b border-gray-700 px-4 sm:px-6 py-4 flex-shrink-0">
		<div id="logout"></div>
		<div id="lefttheroom"></div>
	</header>
	
	<!-- toggle sections -->
	<div id="collapsed-toggles" class="flex justify-center gap-4 p-2 bg-dark-bg border-b border-gray-700 hidden">
		<button id="expand-url" class="bg-dark-card hover:bg-dark-hover text-turkuazz px-4 py-2 rounded-md transition-all duration-200 text-sm font-medium hidden">
			ðŸ“¹ Show Video Section
		</button>
		<button id="expand-video" class="bg-dark-card hover:bg-dark-hover text-turkuazz px-4 py-2 rounded-md transition-all duration-200 text-sm font-medium hidden">
			ðŸŽ¬ Show Video Player
		</button>
		<button id="expand-chat" class="bg-dark-card hover:bg-dark-hover text-turkuazz px-4 py-2 rounded-md transition-all duration-200 text-sm font-medium hidden">
			ðŸ’¬ Show Chat Section
		</button>
	</div>
	
	<!-- main content -->
	<main class="flex flex-1 p-3 sm:p-6 overflow-hidden gap-3 sm:gap-6 flex-col sm:flex-row min-h-0" style="display: flex;">
		<!-- left panel container -->
		<div id="left-panel" class="flex flex-col gap-3 sm:gap-6 min-h-0 overflow-hidden" style="flex: 1; display: flex;">
			<!-- video input url section -->
			<section id="url-section" class="bg-dark-card rounded-lg shadow-lg relative flex flex-col overflow-hidden" style="flex: 1; display: flex;">
				<button id="toggle-url-section" class="absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-turkuazz hover:bg-dark-hover rounded-full w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-lg sm:text-xl font-bold z-10 transition-all duration-200">
					&times;
				</button>
				<div id="url-content" class="p-4 sm:p-6 flex flex-col transition-all duration-300 flex-1 min-h-0 overflow-y-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-dark-bg">
				<h2 id="input-roomname" class="text-xl sm:text-2xl font-bold text-turkuazz mb-4 pr-10 sm:pr-12">Watch Video</h2>
				<div class="relative">
					<!-- loading overlay for input/buttons area only -->
					<div id="video-loading-overlay" class="absolute inset-0 bg-dark-card bg-opacity-90 flex flex-col items-center justify-center z-20 rounded-md hidden">
						<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-turkuazz mb-3"></div>
						<p class="text-turkuazz font-medium text-center text-sm">
							<span id="loading-text">Setting up video...</span>
						</p>
						<p class="text-gray-400 text-xs text-center mt-1">
							This may take a moment
						</p>
					</div>
					<div class="flex flex-col gap-4">
						<div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-2">
							<input
								id="urlof-thevideo"
								type="text"
								placeholder="Enter video URL"
								class="flex-1 p-3 rounded-md bg-dark-bg border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-turkuazz text-sm sm:text-base transition-all duration-200"
							/>
							<button id="set-thevideo" class="bg-turkuazz text-dark-bg font-bold py-3 px-3 sm:px-6 rounded-md hover:bg-opacity-90 transition-colors whitespace-nowrap text-sm sm:text-base">
								set video
							</button>
						</div>
						<button id="play-thevideo" class="w-full bg-turkuazz text-dark-bg font-bold py-3 rounded-md hover:bg-opacity-90 transition-colors text-sm sm:text-base">
						watch video
					</button>
					<div class="flex flex-col sm:flex-row gap-2">
						<input 
							id="subtitle-file" 
							type="file" 
							accept=".vtt,.srt,.ass,.ssa,.sub" 
							class="hidden"
						/>
						<button id="add-subtitle" class="flex-1 bg-gray-700 text-white font-medium py-2 px-4 rounded-md hover:bg-gray-600 transition-colors text-sm sm:text-base flex items-center justify-center gap-2">
							<i class="fas fa-closed-captioning"></i>
							Add Subtitle
						</button>
						<button id="update-subtitle" class="hidden flex-1 bg-gray-700 text-white font-medium py-2 px-4 rounded-md hover:bg-gray-600 transition-colors text-sm sm:text-base flex items-center justify-center gap-2">
							<i class="fas fa-sync-alt"></i>
							Update Subtitle
						</button>
					</div>
				</div>
			</div>
		</section>		<!-- horizontal resizer -->
		<div id="horizontal-resizer" class="resizer-horizontal bg-gray-600 hover:bg-turkuazz cursor-row-resize transition-colors duration-200" style="height: 6px; background: linear-gradient(90deg, transparent, #04aa6d, transparent);"></div>

		<!-- video player section -->
		<section id="video-section" class="bg-dark-card rounded-lg shadow-lg relative flex flex-col overflow-hidden" style="flex: 1; display: none;">
			<button id="toggle-video-section" class="absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-turkuazz hover:bg-dark-hover rounded-full w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-lg sm:text-xl font-bold z-10 transition-all duration-200">
				&times;
			</button>
			<div id="video-content" class="p-1 flex flex-col transition-all duration-300 flex-1 min-h-0 overflow-y-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-dark-bg">
				<h2 class="p-2 text-xl sm:text-2xl font-bold text-turkuazz mb-4 pr-10 sm:pr-12">Video Player</h2>
				<div class="flex-1 flex items-center justify-center min-h-0">
					<video
						id="video-player"
						class="w-full h-full max-w-full max-h-full rounded-lg"
						controls
						src=""
					>
						Your browser does not support the video tag.
					</video>
				</div>
			</div>
		</section>
	</div>

	<!-- vertical resizer -->
	<div id="vertical-resizer" class="resizer-vertical bg-gray-600 hover:bg-turkuazz cursor-col-resize transition-colors duration-200" style="width: 6px; background: linear-gradient(180deg, transparent, #04aa6d, transparent);"></div>

	<!-- horizontal resizer for mobile (above chat) -->
	<div id="mobile-horizontal-resizer" class="resizer-horizontal bg-gray-600 hover:bg-turkuazz cursor-row-resize transition-colors duration-200 sm:hidden" style="height: 6px; background: linear-gradient(90deg, transparent, #04aa6d, transparent);"></div>

		<!-- chat section -->
		<section id="chat-section" class="bg-dark-card rounded-lg shadow-lg relative flex flex-col overflow-hidden flex-1 min-h-0" style="flex: 1; display: flex;">
			<button id="toggle-chat-section" class="absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-turkuazz hover:bg-dark-hover rounded-full w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-lg sm:text-xl font-bold z-10 transition-all duration-200">
				&times;
			</button>
			
			<div class="p-4 pb-0 flex-shrink-0">
				<h2 id="chat-roomname" class="text-xl sm:text-2xl font-bold text-turkuazz mb-4 pr-10 sm:pr-12">Chat</h2>
			</div>
			
			<div id="chat-content" class="flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-dark-bg bg-dark-bg rounded-md mx-4 sm:mx-6 p-4 border border-gray-700 min-h-0 relative">
				<!-- dynamic -->
			</div>
			
			<!-- notification glow at bottom of chat -->
			<div id="chat-notification-glow" class="chat-bottom-glow hidden mx-4 sm:mx-6"></div>
			
			<!-- reply preview area -->
			<div id="reply-preview" class="hidden">
				<div class="flex justify-between items-start">
					<div class="flex-1">
						<div class="text-xs text-gray-400 mb-1">Replying to <span id="reply-to-user" class="font-semibold"></span></div>
						<div id="reply-to-message" class="text-sm text-gray-300 truncate"></div>
					</div>
					<button id="close-reply" class="ml-2 text-gray-400 hover:text-white text-lg leading-none">&times;</button>
				</div>
			</div>
			
			<div class="flex gap-2 p-4 pt-4 flex-shrink-0">
				<button id="gif-picker-btn" class="bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-md transition-colors duration-200 flex items-center justify-center" title="Add GIF or Emoji">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
						<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
						<path d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m0 0V7a.25.25 0 0 0-.25-.25H3.5a.25.25 0 0 0-.25.25v2.75c0 .138.112.25.25.25h1.25A.25.25 0 0 0 5 9.75V6.25zm7-.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0"/>
					</svg>
				</button>
				<input
					id="input-chatmessage"
					type="text"
					placeholder="Type your message..."
					class="flex-1 p-3 rounded-md bg-dark-bg border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-turkuazz text-sm sm:text-base transition-all duration-200"
				/>
				<button id="send-chatmessage" class="bg-turkuazz text-dark-bg font-bold py-3 px-4 sm:px-6 rounded-md hover:bg-opacity-90 transition-colors whitespace-nowrap text-sm sm:text-base">
					send
				</button>
			</div>
			
			<!-- gif picker -->
			<div id="gif-picker-modal" class="hidden fixed z-50">
				<div class="bg-dark-card rounded-lg shadow-2xl border border-gray-600 flex flex-col">
					<!-- tabs -->
					<div class="flex items-center justify-between p-4 border-b border-gray-700">
						<div class="flex gap-2">
							<button id="gif-tab" class="px-3 py-1 rounded-md bg-turkuazz text-dark-bg text-sm font-medium">
								GIFs
							</button>
							<button id="emoji-tab" class="px-3 py-1 rounded-md bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium">
								ðŸ˜€ Emojis
							</button>
						</div>
						<button id="close-gif-picker" class="text-gray-400 hover:text-white text-xl">Ã—</button>
					</div>
					
					<!-- search -->
					<div class="p-4 border-b border-gray-700" id="gif-searchdiv">
						<input 
							id="gif-search" 
							type="text" 
							placeholder="Search GIFs..." 
							class="w-full p-2 rounded-md bg-dark-bg border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-turkuazz text-sm"
						/>
					</div>
					
					<!-- content -->
					<div class="flex-1 overflow-hidden">
						<!-- gif -->
						<div id="gif-content" class="h-full">
							<div class="p-2 h-full overflow-y-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-dark-bg">
								<div id="gif-loading" class="text-center py-8 text-gray-400">Loading popular GIFs...</div>
								<div id="gif-grid" class="grid grid-cols-2 gap-2 hidden"></div>
							</div>
						</div>
						
						<!-- emoji -->
						<div id="emoji-content" class="h-full hidden">
							<div class="p-2 h-full overflow-y-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-dark-bg">
								<div id="emoji-grid" class="grid grid-cols-6 gap-2">
									<!-- dynamic -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>

	<!-- bottom watchers section -->
	<section id="watchers-section" class="bg-dark-card border-t border-gray-600 transition-all duration-300 transform translate-y-full">
		<div class="p-3 sm:p-4 flex items-center gap-3">
			<div id="watchers-list" class="flex gap-2 flex-1 overflow-x-auto scrollbar-thin scrollbar-thumb-turkuazz scrollbar-track-gray-700 min-w-0">
				<div class="text-gray-500 text-sm no-watchers-message">No one is watching</div>
			</div>
			<button id="close-watchers-section" class="text-gray-400 hover:text-turkuazz hover:bg-dark-hover rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200 flex-shrink-0">
				<i class="fas fa-times"></i>
			</button>
		</div>
	</section>

	<!-- toggle watchers button -->
	<button id="toggle-watchers" class="fixed bottom-4 right-4 bg-turkuazz hover:bg-turkuazz-dark text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-200 z-40">
		<i class="fas fa-chevron-up text-lg"></i>
	</button>

	<script src="../assets/js/headers/header.js" defer></script>
	<script src="../assets/js/config-modal.js" defer></script>
	<script src="../assets/js/tenor.js" defer></script>
	<script type="module" src="../assets/js/wss.js" defer></script>
	<script src="../assets/js/index.js" defer></script>
	
	<audio id="notification-sound" preload="auto">
		<source src="../assets/audio/bubble.mp3" type="audio/mpeg">
	</audio>
</body>
</html>
